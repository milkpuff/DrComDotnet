<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <Authors>Leviolet</Authors>
    <OutputType>Exe</OutputType>
    <Version>0.3.1</Version>
    <TargetFrameworks>netcoreapp3.1;net48</TargetFrameworks>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>

  <!-- Windows 系统 -->
  <PropertyGroup Condition="'$(OS)' == 'Windows_NT'">
    <ApplicationIcon>../private/icon.ico</ApplicationIcon>
    <DefineConstants>IS_WINDOWS</DefineConstants>
  </PropertyGroup>
  
  <!-- MAC OS X 系统 -->
  <PropertyGroup Condition="'$(OS)' == 'OSX'">
    <DefineConstants>IS_OSX</DefineConstants>
  </PropertyGroup>

  <!-- Linux 系统 -->
  <PropertyGroup Condition="'$(OS)' == 'Linux'">
    <InvariantGlobalization>true</InvariantGlobalization>
    <DefineConstants>IS_LINUX</DefineConstants>
  </PropertyGroup>

  <!-- .NET 4.8 -->
  <ItemGroup Condition="'$(TargetFramework)' == 'net48'">
    <PackageReference Include="IndexRange"       Version="1.0.0"/>
    <PackageReference Include="System.Text.Json" Version="4.7.2"/>
  </ItemGroup>

  <!-- Public -->
  <ItemGroup>
    <Content Include="./options.json">
      <Link>%(RecursiveDir)%(Filename)%(Extension)</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
  
</Project>
